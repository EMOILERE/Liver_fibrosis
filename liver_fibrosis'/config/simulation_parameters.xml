<?xml version="1.0" encoding="UTF-8"?>
<!--
###############################################################################
# iGEM肝纤维化模拟详细参数配置文件                                            #
# 此文件包含所有可调整的模拟参数，便于快速修改实验条件                         #
# 修改此文件后需要重新编译和运行模拟                                          #
###############################################################################
-->

<simulation_parameters>
    
    <!-- ================================================================== -->
    <!-- 基础模拟设置 -->
    <!-- ================================================================== -->
    <basic_settings>
        <!-- 模拟时长 (分钟) -->
        <simulation_time description="总模拟时间，建议2880分钟(48小时)">2880</simulation_time>
        
        <!-- 时间步长设置 -->
        <time_steps>
            <diffusion_dt description="扩散时间步长(分钟)">0.01</diffusion_dt>
            <mechanics_dt description="力学时间步长(分钟)">0.1</mechanics_dt>
            <phenotype_dt description="表型更新时间步长(分钟)">6</phenotype_dt>
        </time_steps>
        
        <!-- 模拟域设置 -->
        <domain>
            <size_x description="X方向尺寸(微米)">800</size_x>
            <size_y description="Y方向尺寸(微米)">800</size_y>
            <resolution description="空间分辨率(微米)">20</resolution>
        </domain>
        
        <!-- 输出设置 -->
        <output>
            <save_interval description="数据保存间隔(分钟)">60</save_interval>
            <svg_interval description="可视化保存间隔(分钟)">60</svg_interval>
        </output>
    </basic_settings>

    <!-- ================================================================== -->
    <!-- 细胞群体设置 -->
    <!-- ================================================================== -->
    <cell_population>
        <!-- 初始细胞数量 -->
        <initial_cell_count description="初始LX-2细胞数量">100</initial_cell_count>
        
        <!-- 初始细胞状态分布 -->
        <initial_activation_fraction description="初始活化细胞比例(0-1)">0.0</initial_activation_fraction>
        
        <!-- 细胞生物学参数 -->
        <cell_biology>
            <!-- 细胞周期时间 (分钟) -->
            <quiescent_cycle_time description="静息态细胞周期时间">2000</quiescent_cycle_time>
            <activated_cycle_time description="活化态细胞周期时间">1000</activated_cycle_time>
            
            <!-- 细胞死亡率 (每分钟) -->
            <apoptosis_rate description="细胞凋亡率">0.0001</apoptosis_rate>
            
            <!-- 细胞运动 -->
            <motility>
                <quiescent_speed description="静息态细胞运动速度(微米/分钟)">0.2</quiescent_speed>
                <activated_speed description="活化态细胞运动速度(微米/分钟)">1.0</activated_speed>
            </motility>
        </cell_biology>
    </cell_population>

    <!-- ================================================================== -->
    <!-- 微环境化学物质设置 -->
    <!-- ================================================================== -->
    <microenvironment>
        <!-- TGF-β1参数 -->
        <TGF_beta1>
            <concentration description="TGF-β1浓度(ng/mL)，实验中使用10ng/mL">10.0</concentration>
            <diffusion_coefficient description="扩散系数(微米²/分钟)">50000.0</diffusion_coefficient>
            <decay_rate description="降解率(1/分钟)，半衰期约70分钟">0.01</decay_rate>
        </TGF_beta1>
        
        <!-- 外泌体参数 -->
        <exosomes>
            <concentration description="外泌体浓度(μg/mL)，实验中使用50μg/mL">50.0</concentration>
            <diffusion_coefficient description="扩散系数(微米²/分钟)">5000.0</diffusion_coefficient>
            <decay_rate description="降解率(1/分钟)">0.005</decay_rate>
        </exosomes>
        
        <!-- 纤维化标志物 -->
        <fibrosis_markers>
            <alpha_SMA>
                <diffusion_coefficient description="α-SMA扩散系数">10000.0</diffusion_coefficient>
                <decay_rate description="α-SMA降解率">0.02</decay_rate>
            </alpha_SMA>
            <collagen_I>
                <diffusion_coefficient description="胶原蛋白I扩散系数">5000.0</diffusion_coefficient>
                <decay_rate description="胶原蛋白I降解率">0.005</decay_rate>
            </collagen_I>
        </fibrosis_markers>
    </microenvironment>

    <!-- ================================================================== -->
    <!-- 细胞活化机制参数 -->
    <!-- ================================================================== -->
    <cell_activation>
        <!-- TGF-β1诱导活化 -->
        <TGF_beta1_response>
            <activation_threshold description="细胞活化的TGF-β1阈值(ng/mL)">5.0</activation_threshold>
            <activation_rate description="细胞活化速率(1/分钟)">0.01</activation_rate>
            <deactivation_rate description="细胞去活化速率(1/分钟)">0.005</deactivation_rate>
            <hill_coefficient description="剂量反应Hill系数">2.0</hill_coefficient>
        </TGF_beta1_response>
        
        <!-- 活化细胞表型变化 -->
        <activated_phenotype>
            <!-- 纤维化标志物产生 -->
            <alpha_SMA_production>
                <quiescent_rate description="静息态α-SMA产生率">0.1</quiescent_rate>
                <activated_rate description="活化态α-SMA产生率">2.0</activated_rate>
            </alpha_SMA_production>
            <collagen_I_production>
                <quiescent_rate description="静息态胶原蛋白I产生率">0.05</quiescent_rate>
                <activated_rate description="活化态胶原蛋白I产生率">1.5</activated_rate>
            </collagen_I_production>
        </activated_phenotype>
    </cell_activation>

    <!-- ================================================================== -->
    <!-- 外泌体和miRNA机制参数 -->
    <!-- ================================================================== -->
    <exosome_miRNA_system>
        <!-- 外泌体摄取 -->
        <exosome_uptake>
            <uptake_rate description="外泌体摄取速率(1/分钟)">1.0</uptake_rate>
            <uptake_threshold description="摄取的最低外泌体浓度">0.1</uptake_threshold>
            <miRNA_release_efficiency description="miRNA释放效率(0-1)">0.1</miRNA_release_efficiency>
        </exosome_uptake>
        
        <!-- miRNA动力学 -->
        <miRNA_kinetics>
            <degradation_rate description="细胞内miRNA降解率(1/分钟)">0.01</degradation_rate>
            <effect_threshold description="miRNA发挥作用的阈值浓度">0.1</effect_threshold>
            <max_effect description="miRNA的最大抑制效果(0-1)">0.8</max_effect>
            <hill_coefficient description="miRNA剂量反应Hill系数">2.0</hill_coefficient>
        </miRNA_kinetics>
        
        <!-- miRNA特异性作用 -->
        <miRNA_specificity>
            <!-- miR-455-3p主要作用于α-SMA -->
            <miR_455_3p>
                <alpha_SMA_inhibition description="对α-SMA的抑制强度(0-1)">0.9</alpha_SMA_inhibition>
                <collagen_I_inhibition description="对胶原蛋白I的抑制强度(0-1)">0.2</collagen_I_inhibition>
            </miR_455_3p>
            <!-- miR-148a-5p主要作用于胶原蛋白I -->
            <miR_148a_5p>
                <alpha_SMA_inhibition description="对α-SMA的抑制强度(0-1)">0.2</alpha_SMA_inhibition>
                <collagen_I_inhibition description="对胶原蛋白I的抑制强度(0-1)">0.9</collagen_I_inhibition>
            </miR_148a_5p>
        </miRNA_specificity>
    </exosome_miRNA_system>

    <!-- ================================================================== -->
    <!-- 协同增效机制参数 (核心研究内容) -->
    <!-- ================================================================== -->
    <synergy_mechanism>
        <!-- 协同效应触发条件 -->
        <synergy_threshold description="触发协同效应的最低miRNA水平">0.1</synergy_threshold>
        
        <!-- 协同增效强度 -->
        <max_synergy_factor description="最大协同增效因子，2.5表示协同时效果提升1.5倍">2.5</max_synergy_factor>
        
        <!-- 协同计算模型 -->
        <synergy_model description="协同计算模型: geometric(几何平均) 或 multiplicative(乘积模型)">geometric</synergy_model>
        
        <!-- 协同效应的时间延迟 -->
        <synergy_delay description="协同效应建立的时间延迟(分钟)">30</synergy_delay>
        
        <!-- 协同饱和参数 -->
        <synergy_saturation description="协同效应饱和参数，避免过度增效">1.0</synergy_saturation>
    </synergy_mechanism>

    <!-- ================================================================== -->
    <!-- 实验条件设置 -->
    <!-- ================================================================== -->
    <experimental_conditions>
        <!-- 当前实验组 (可选值见下方说明) -->
        <current_experiment description="当前运行的实验组">control</current_experiment>
        
        <!-- 实验组定义 -->
        <experiment_groups>
            <control description="阴性对照组：无TGF-β1，无外泌体">
                <TGF_beta1_enabled>false</TGF_beta1_enabled>
                <exosomes_enabled>false</exosomes_enabled>
            </control>
            
            <positive_model description="阳性模型组：TGF-β1诱导，无外泌体干预">
                <TGF_beta1_enabled>true</TGF_beta1_enabled>
                <exosomes_enabled>false</exosomes_enabled>
            </positive_model>
            
            <natural_exosomes description="天然外泌体组：TGF-β1 + 天然外泌体">
                <TGF_beta1_enabled>true</TGF_beta1_enabled>
                <exosomes_enabled>true</exosomes_enabled>
                <miR_455_3p_ratio>0.0</miR_455_3p_ratio>
                <miR_148a_5p_ratio>0.0</miR_148a_5p_ratio>
            </natural_exosomes>
            
            <NC_mimic description="阴性对照外泌体组：TGF-β1 + NC mimic外泌体">
                <TGF_beta1_enabled>true</TGF_beta1_enabled>
                <exosomes_enabled>true</exosomes_enabled>
                <miR_455_3p_ratio>0.0</miR_455_3p_ratio>
                <miR_148a_5p_ratio>0.0</miR_148a_5p_ratio>
            </NC_mimic>
            
            <miR_455_3p description="miR-455-3p单载组">
                <TGF_beta1_enabled>true</TGF_beta1_enabled>
                <exosomes_enabled>true</exosomes_enabled>
                <miR_455_3p_ratio>1.0</miR_455_3p_ratio>
                <miR_148a_5p_ratio>0.0</miR_148a_5p_ratio>
            </miR_455_3p>
            
            <miR_148a_5p description="miR-148a-5p单载组">
                <TGF_beta1_enabled>true</TGF_beta1_enabled>
                <exosomes_enabled>true</exosomes_enabled>
                <miR_455_3p_ratio>0.0</miR_455_3p_ratio>
                <miR_148a_5p_ratio>1.0</miR_148a_5p_ratio>
            </miR_148a_5p>
            
            <dual_miRNA_1_1 description="双miRNA共载组 1:1比例">
                <TGF_beta1_enabled>true</TGF_beta1_enabled>
                <exosomes_enabled>true</exosomes_enabled>
                <miR_455_3p_ratio>0.5</miR_455_3p_ratio>
                <miR_148a_5p_ratio>0.5</miR_148a_5p_ratio>
            </dual_miRNA_1_1>
            
            <dual_miRNA_1_2 description="双miRNA共载组 1:2比例">
                <TGF_beta1_enabled>true</TGF_beta1_enabled>
                <exosomes_enabled>true</exosomes_enabled>
                <miR_455_3p_ratio>0.333</miR_455_3p_ratio>
                <miR_148a_5p_ratio>0.667</miR_148a_5p_ratio>
            </dual_miRNA_1_2>
            
            <dual_miRNA_2_1 description="双miRNA共载组 2:1比例">
                <TGF_beta1_enabled>true</TGF_beta1_enabled>
                <exosomes_enabled>true</exosomes_enabled>
                <miR_455_3p_ratio>0.667</miR_455_3p_ratio>
                <miR_148a_5p_ratio>0.333</miR_148a_5p_ratio>
            </dual_miRNA_2_1>
        </experiment_groups>
    </experimental_conditions>

    <!-- ================================================================== -->
    <!-- 高级参数设置 -->
    <!-- ================================================================== -->
    <advanced_parameters>
        <!-- 随机数种子 -->
        <random_seed description="随机数种子，0为系统时间，固定值可重现结果">0</random_seed>
        
        <!-- 数值计算精度 -->
        <numerical_precision>
            <tolerance description="数值求解容差">1e-6</tolerance>
            <max_iterations description="最大迭代次数">1000</max_iterations>
        </numerical_precision>
        
        <!-- 性能优化 -->
        <performance>
            <omp_threads description="OpenMP并行线程数">6</omp_threads>
            <memory_limit description="内存使用限制(GB)">8</memory_limit>
        </performance>
        
        <!-- 调试选项 -->
        <debugging>
            <verbose_output description="详细输出模式">false</verbose_output>
            <log_level description="日志级别: 0=Error, 1=Warning, 2=Info, 3=Debug">1</log_level>
        </debugging>
    </advanced_parameters>

    <!-- ================================================================== -->
    <!-- 参数验证和约束 -->
    <!-- ================================================================== -->
    <parameter_constraints>
        <!-- 生物学合理性约束 -->
        <biology_constraints>
            <max_cell_density description="最大细胞密度(cells/mm²)">10000</max_cell_density>
            <min_substrate_concentration description="最小底物浓度">0.0</min_substrate_concentration>
            <max_substrate_concentration description="最大底物浓度">1000.0</max_substrate_concentration>
        </biology_constraints>
        
        <!-- 数值稳定性约束 -->
        <numerical_constraints>
            <min_time_step description="最小时间步长(分钟)">0.001</min_time_step>
            <max_time_step description="最大时间步长(分钟)">10.0</max_time_step>
            <spatial_resolution_limit description="空间分辨率限制(微米)">5.0</spatial_resolution_limit>
        </numerical_constraints>
    </parameter_constraints>

</simulation_parameters>
